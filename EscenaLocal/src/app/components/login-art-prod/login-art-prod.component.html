<div class="container mt-4" style="max-width:420px;">
  <div class="card p-3 shadow">
    <h4 class="mb-3">Iniciar sesión</h4>

    <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
      <div class="mb-3">
        <label class="form-label">Usuario</label>
        <input
          name="username"
          #usernameInput
          [(ngModel)]="model.username"
          required
          class="form-control"
        />
      </div>

      <div class="mb-3">
        <label class="form-label">Contraseña</label>
        <input
          type="password"
          name="password"
          [(ngModel)]="model.password"
          required
          class="form-control"
        />
      </div>

      <div class="mb-3">
        <label class="form-label">Rol</label>
        <select
          class="form-select"
          name="rol"
          [(ngModel)]="model.rol"
          required
        >
          <option value="">Seleccione un rol</option>
          <option *ngFor="let rol of roles" [value]="rol.rol">
            {{ rol.rol }}
          </option>
        </select>
      </div>

      <button class="btn-orange w-100" [disabled]="loginForm.invalid">
        Ingresar
      </button>
    </form>

    <!-- Enlace para registrarse -->
    <div class="text-center mt-3">
      <span>¿No tenés cuenta?</span>
      <a
        class="text-primary fw-bold"
        (click)="irARegistrar()"
        style="cursor: pointer;"
      >
        Registrarme
      </a>
    </div>

    <div *ngIf="error" class="alert alert-danger mt-2">{{ error }}</div>
  </div>
</div>
